% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/steady-state.R
\name{detect_steady_state_variance}
\alias{detect_steady_state_variance}
\title{Detect Steady-State Using Rolling Variance}
\usage{
detect_steady_state_variance(
  data,
  variable = "vo2",
  variance_threshold = NULL,
  window_size = 5,
  min_duration = 2,
  id_col = "id",
  time_col = "time"
)
}
\arguments{
\item{data}{A data frame or CalorimetryData object containing the measurements.}

\item{variable}{Character string specifying the variable to analyze (default: "vo2").}

\item{variance_threshold}{Numeric variance threshold. If NULL (default),
automatically determined as the 25th percentile of observed variances.}

\item{window_size}{Integer specifying the number of consecutive observations
in the rolling window (default: 5).}

\item{min_duration}{Minimum number of consecutive low-variance windows required
to qualify as a steady-state period (default: 2).}

\item{id_col}{Character string specifying the subject ID column (default: "id").}

\item{time_col}{Character string specifying the time column (default: "time").}
}
\value{
A tibble with columns:
\itemize{
\item Subject ID column
\item Time column
\item \code{variance}: Rolling variance for each time point
\item \code{variance_threshold}: The threshold used
\item \code{is_steady}: Logical indicating if variance is below threshold
\item \code{steady_period}: Integer identifying consecutive steady-state periods
\item \code{meets_duration}: Logical indicating if period meets minimum duration
}
}
\description{
Identifies steady-state periods where the rolling variance of a variable
falls below a specified threshold or automatically determined threshold.
}
\examples{
\dontrun{
# Detect steady-state with auto threshold
ss_result <- detect_steady_state_variance(calo_data, variable = "vo2")

# Use specific variance threshold
ss_specific <- detect_steady_state_variance(calo_data, variable = "vo2",
                                             variance_threshold = 0.01)
}
}
