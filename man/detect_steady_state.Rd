% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/steady-state.R
\name{detect_steady_state}
\alias{detect_steady_state}
\title{Detect Steady-State Using Combined Methods}
\usage{
detect_steady_state(
  data,
  variables = c("vo2", "vco2"),
  cv_threshold = 0.1,
  variance_threshold = NULL,
  method = c("both", "cv", "variance"),
  combine_method = c("and", "or"),
  window_size_cv = 3,
  window_size_var = 5,
  min_duration = 2,
  id_col = "id",
  time_col = "time",
  verbose = TRUE
)
}
\arguments{
\item{data}{A data frame or CalorimetryData object containing the measurements.}

\item{variables}{Character vector of variables to analyze (default: c("vo2", "vco2")).
When multiple variables are specified, steady-state is determined based on
all variables meeting the criteria.}

\item{cv_threshold}{Numeric CV threshold (default: 0.10 = 10\%).}

\item{variance_threshold}{Numeric variance threshold. If NULL (default),
automatically determined per variable.}

\item{method}{Character specifying which method(s) to use: "both" (default),
"cv", or "variance".}

\item{combine_method}{How to combine results when method = "both":
"and" (default) requires both methods agree, "or" accepts either.}

\item{window_size_cv}{Window size for CV method (default: 3).}

\item{window_size_var}{Window size for variance method (default: 5).}

\item{min_duration}{Minimum consecutive steady-state points (default: 2).}

\item{id_col}{Character string specifying the subject ID column (default: "id").}

\item{time_col}{Character string specifying the time column (default: "time").}

\item{verbose}{Logical, whether to print progress messages (default: TRUE).}
}
\value{
A tibble with columns:
\itemize{
\item Subject ID column
\item Time column
\item Variable columns
\item For each variable: \verb{\{var\}_cv}, \verb{\{var\}_variance}, \verb{\{var\}_steady}
\item \code{is_steady_all}: Combined steady-state indicator across all variables
\item \code{steady_period}: Integer identifying consecutive steady-state periods
\item \code{meets_duration}: Logical indicating if period meets minimum duration
\item \code{method}: The detection method used
}
}
\description{
Combines CV threshold and rolling variance methods for robust steady-state
detection. Can use either method alone or both with configurable combination logic.
}
\examples{
\dontrun{
# Combined detection on VO2 and VCO2
ss <- detect_steady_state(calo_data, variables = c("vo2", "vco2"))

# Use only CV method
ss_cv <- detect_steady_state(calo_data, method = "cv", cv_threshold = 0.08)

# Accept steady-state if EITHER method indicates it
ss_or <- detect_steady_state(calo_data, method = "both", combine_method = "or")
}
}
